{"version":3,"sources":["webpack:///./src/hooks/useKey.jsx","webpack:///./src/styles/colors.js","webpack:///./src/components/Tile.jsx","webpack:///./src/components/gameController.jsx","webpack:///./src/pages/Layout/Main.jsx","webpack:///./src/pages/index.jsx"],"names":["useKey","key","callback","useEffect","handler","event","window","addEventListener","removeEventListener","text","background","baseStyle","name","styles","contentStyle","getTextStyles","value","startingNumber","reduce","accumulator","color","_Object$assign","_Object$assign2","Object","assign","css","getBackgroundStyles","_Object$assign3","_Object$assign4","Tile","_ref","isVisible","core_browser_esm","css_browser_esm","defaultProps","gameContainerStyles","initState","gridSize","state","Array","column","row","id","columnId","Math","floor","random","keys","length","rowId","generateGrid","gridState","concat","_toConsumableArray","map","components_Tile","generateTile","newState","moveGrid","_ref2","tile","moveUp","moveDown","moveLeft","moveRight","gameController","_ref3","_useState","useState","grid","setGrid","react_default","a","Fragment","layoutStyles","__webpack_exports__","components_gameController","globalStyles","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","_Layout_Main__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"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","file":"component---src-pages-index-jsx-0d5587bc71a257065fbc.js","sourcesContent":["// Window not defined because server Side rendering\n/* eslint-disable no-undef */\nimport { useEffect } from 'react';\n\nexport default (key, callback) =>\n  useEffect(() => {\n    const handler = (event) => event.key === key && callback(event);\n\n    window.addEventListener('keydown', handler);\n    return () => {\n      window.removeEventListener('keydown', handler);\n    };\n  }, []);\n","const text = [\n  '#410058',\n  '#53006C',\n  '#67007E',\n  '#7A0090',\n  '#8E00A0',\n  '#8422AF',\n  '#8144BD',\n  '#8466CB',\n  '#8F88D8',\n  '#AAAAE4',\n  '#CCD2EF',\n];\n\nconst background = [\n  '#0A2F51',\n  '#0E4D64',\n  '#137177',\n  '#188977',\n  '#1D9A6C',\n  '#39A96B',\n  '#56B870',\n  '#74C67A',\n  '#99D492',\n  '#BFE1B0',\n  '#DEEDCF',\n];\n\nexport { text, background };\n","import React from 'react';\nimport { css } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport { text, background } from '../styles/colors';\n\nconst baseStyle = css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 180px;\n  border: 2px solid black;\n  border-radius: 5%;\n`;\n\nconst contentStyle = css`\n  font-size: 72px;\n  font-weight: bold;\n`;\n\nconst getTextStyles = (value) => {\n  let startingNumber = 2;\n  const styles = text.reduce((accumulator, color) => {\n    if (!accumulator[startingNumber]) return { ...accumulator, [startingNumber]: color };\n    startingNumber *= 2;\n\n    return { ...accumulator, [startingNumber]: color };\n  }, {});\n  return css`\n    color: ${styles[value]};\n  `;\n};\n\nconst getBackgroundStyles = (value) => {\n  let startingNumber = 2048;\n  const styles = background.reduce((accumulator, color) => {\n    if (!accumulator[startingNumber]) return { ...accumulator, [startingNumber]: color };\n    startingNumber /= 2;\n\n    return { ...accumulator, [startingNumber]: color };\n  }, {});\n  return css`\n    background-color: ${styles[value]};\n  `;\n};\n\nfunction Tile({ isVisible, value }) {\n  return (\n    <div css={[baseStyle, isVisible && getBackgroundStyles(value)]}>\n      {isVisible && <span css={[contentStyle, getTextStyles(value)]}>{value}</span>}\n    </div>\n  );\n}\n\nTile.propTypes = {\n  isVisible: PropTypes.bool,\n  value: PropTypes.number,\n};\n\nTile.defaultProps = {\n  isVisible: false,\n  value: 2,\n};\n\nexport default Tile;\n","import React, { useState } from 'react';\nimport { css } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport useKey from '../hooks/useKey';\n\nimport Tile from './Tile';\n\nconst gameContainerStyles = css`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  height: 800px;\n  width: 800px;\n  border: 3px solid black;\n  border-radius: 2%;\n  padding: 15px;\n`;\n\nconst initState = (gridSize) => {\n  const state = new Array(gridSize);\n  for (let column = 0; column < gridSize; column += 1) {\n    state[column] = new Array(gridSize);\n    for (let row = 0; row < gridSize; row += 1) {\n      state[column][row] = { id: `${column}${row}`, value: 2, isVisible: false };\n    }\n  }\n\n  const columnId = Math.floor(Math.random() * Object.keys(state).length);\n  const rowId = Math.floor(Math.random() * Object.keys(state).length);\n  state[columnId][rowId] = { id: `${columnId}${rowId}`, value: 2, isVisible: true };\n\n  return state;\n};\n\nconst generateGrid = (gridState) =>\n  gridState.reduce(\n    (accumulator, column) => [\n      ...accumulator,\n      ...column.map(({ id, value, isVisible }) => {\n        return <Tile key={id} value={value} isVisible={isVisible} />;\n      }),\n    ],\n    [],\n  );\n\nconst generateTile = (gridState) => {\n  const columnId = Math.floor(Math.random() * Object.keys(gridState).length);\n  const rowId = Math.floor(Math.random() * Object.keys(gridState).length);\n  const { isVisible } = gridState[columnId][rowId];\n\n  if (!isVisible) {\n    const newState = [...gridState];\n    newState[columnId][rowId] = {\n      ...gridState[columnId][rowId],\n      isVisible: true,\n    };\n\n    return newState;\n  }\n\n  return generateTile(gridState);\n};\n\nconst moveUp = (gridState) =>\n  gridState.map((column, columnId) =>\n    column.map((tile, rowId) => {\n      if (\n        tile.isVisible &&\n        gridState[columnId - 1] &&\n        gridState[columnId - 1][rowId] &&\n        !gridState[columnId - 1][rowId].isVisible\n      )\n        return { ...tile, isVisible: false };\n      if (\n        !tile.isVisible &&\n        gridState[columnId + 1] &&\n        gridState[columnId + 1][rowId] &&\n        gridState[columnId + 1][rowId].isVisible\n      )\n        return { ...tile, isVisible: true };\n\n      return tile;\n    }),\n  );\n\nconst moveDown = (gridState) =>\n  gridState.map((column, columnId) =>\n    column.map((tile, rowId) => {\n      if (\n        tile.isVisible &&\n        gridState[columnId + 1] &&\n        gridState[columnId + 1][rowId] &&\n        !gridState[columnId + 1][rowId].isVisible\n      )\n        return { ...tile, isVisible: false };\n      if (\n        !tile.isVisible &&\n        gridState[columnId - 1] &&\n        gridState[columnId - 1][rowId] &&\n        gridState[columnId - 1][rowId].isVisible\n      )\n        return { ...tile, isVisible: true };\n\n      return tile;\n    }),\n  );\n\nconst moveLeft = (gridState) =>\n  gridState.map((column, columnId) =>\n    column.map((tile, rowId) => {\n      if (\n        tile.isVisible &&\n        gridState[columnId][rowId + 1] &&\n        !gridState[columnId][rowId + 1].isVisible\n      )\n        return { ...tile, isVisible: false };\n      if (\n        !tile.isVisible &&\n        gridState[columnId][rowId + 1] &&\n        gridState[columnId][rowId + 1].isVisible\n      )\n        return { ...tile, isVisible: true };\n\n      return tile;\n    }),\n  );\n\nconst moveRight = (gridState) =>\n  gridState.map((column, columnId) =>\n    column.map((tile, rowId) => {\n      if (\n        tile.isVisible &&\n        gridState[columnId][rowId - 1] &&\n        !gridState[columnId][rowId - 1].isVisible\n      )\n        return { ...tile, isVisible: false };\n      if (\n        !tile.isVisible &&\n        gridState[columnId][rowId - 1] &&\n        gridState[columnId][rowId - 1].isVisible\n      )\n        return { ...tile, isVisible: true };\n\n      return tile;\n    }),\n  );\n\nconst moveGrid = (gridState, { key }) => {\n  let state;\n  switch (key) {\n    case 'ArrowUp':\n      state = moveUp(gridState);\n      break;\n    case 'ArrowDown':\n      state = moveDown(gridState);\n      break;\n    case 'ArrowLeft':\n      state = moveLeft(gridState);\n      break;\n    case 'ArrowRight':\n      state = moveRight(gridState);\n      break;\n    default:\n      return generateTile(gridState);\n  }\n  return generateTile(state);\n};\n\nfunction gameController({ gridSize }) {\n  const [grid, setGrid] = useState(initState(gridSize));\n\n  useKey('ArrowUp', (event) => setGrid((state) => moveGrid(state, event)));\n  useKey('ArrowDown', (event) => setGrid((state) => moveGrid(state, event)));\n  useKey('ArrowLeft', (event) => setGrid((state) => moveGrid(state, event)));\n  useKey('ArrowRight', (event) => setGrid((state) => moveGrid(state, event)));\n\n  return (\n    <>\n      <div css={gameContainerStyles}>{generateGrid(grid)}</div>;\n    </>\n  );\n}\n\ngameController.propTypes = {\n  gridSize: PropTypes.number,\n};\n\ngameController.defaultProps = {\n  gridSize: 4,\n};\n\nexport default gameController;\n","import React from 'react';\nimport { css } from '@emotion/core';\nimport GameController from '../../components/gameController';\n\nconst layoutStyles = css`\n  display: flex;\n  flex-wrap: wrap;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default () => (\n  <div css={[layoutStyles]}>\n    <GameController gridSize={4} />\n  </div>\n);\n","import React from 'react';\nimport { Global, css } from '@emotion/core';\nimport Main from './Layout/Main';\n\nexport default () => {\n  const globalStyles = css`\n    html,\n    body,\n    #___gatsby,\n    div[role='group'][tabindex] {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      background: #59c173; /* fallback for old browsers */\n      background: linear-gradient(to right, #5d26c1, #a17fe0, #59c173);\n    }\n  `;\n\n  return (\n    <>\n      <Global styles={globalStyles} />\n      <Main></Main>\n    </>\n  );\n};\n"],"sourceRoot":""}